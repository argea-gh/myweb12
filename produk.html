<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Produk ‚Äî Herbaprima | Solusi Herbal Halal & Aman</title>
  <meta name="description" content="Daftar lengkap produk herbal halal Herbaprima: madu premium, minuman sehat, minyak herba, dan suplemen alami ‚Äî semuanya berizin BPOM & MUI." />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
  <!-- ‚úÖ HEADER -->
  <div id="header-container"></div>

  <!-- ‚úÖ HERO KHUSUS PRODUK -->
  <section class="hero-products">
    <div class="container hero-content">
      <h1 class="hero-headline slide-up">üì¶ Temukan Solusi Herbal Terbaik Anda</h1>
      <p class="hero-subheadline fade-in" style="animation-delay:0.1s;">
        Lebih dari 5.200+ keluarga percaya pada khasiat alami kami ‚Äî aman, halal, dan berizin BPOM.
      </p>
      
      <div class="hero-cta fade-in" style="animation-delay:0.3s;">
        <a href="#recommended" class="btn btn-primary">
          <i class="fas fa-star"></i> Produk Terlaris
        </a>
        <a href="#categories" class="btn btn-outline">
          <i class="fas fa-filter"></i> Jelajahi Semua Kategori
        </a>
      </div>

      <div class="hero-badges fade-in" style="animation-delay:0.5s;">
        <span class="badge">‚úÖ Halal MUI</span>
        <span class="badge">‚úÖ BPOM Terdaftar</span>
        <span class="badge">‚úÖ Edukasi Gratis</span>
      </div>
    </div>
  </section>

  <!-- ‚úÖ PRODUK UNGGULAN -->
  <section id="recommended" class="section products-featured">
    <div class="container">
      <div class="section-header fade-in">
        <h2 class="section-title">‚≠ê Produk Pilihan Pelanggan</h2>
        <p class="section-subtitle">Paling sering dipesan bulan ini</p>
      </div>
      
      <div class="featured-grid">
        <!-- Akan diisi via JavaScript -->
      </div>
    </div>
  </section>

  <!-- ‚úÖ KATEGORI INTERAKTIF -->
  <section id="categories" class="section category-section">
    <div class="container">
      <h2 class="section-title fade-in">üåø Jelajahi Berdasarkan Kebutuhan</h2>
      
      <div class="category-cards">
        <div class="category-card stagger-item slide-up" data-category="Madu Premium">
          <div class="category-icon">
            <i class="fas fa-honey-pot"></i>
          </div>
          <h3>Madu Premium</h3>
          <p>Daya tahan & stamina</p>
          <span class="category-count">(12 produk)</span>
        </div>
        
        <div class="category-card stagger-item slide-up" data-category="Minuman Sehat">
          <div class="category-icon">
            <i class="fas fa-blender"></i>
          </div>
          <h3>Minuman Sehat</h3>
          <p>Rutinitas harian</p>
          <span class="category-count">(8 produk)</span>
        </div>
        
        <div class="category-card stagger-item slide-up" data-category="Minyak Herba">
          <div class="category-icon">
            <i class="fas fa-oil-can"></i>
          </div>
          <h3>Minyak Herba</h3>
          <p>Perawatan alami</p>
          <span class="category-count">(6 produk)</span>
        </div>
        
        <div class="category-card stagger-item slide-up" data-category="Aneka Herbal">
          <div class="category-icon">
            <i class="fas fa-leaf"></i>
          </div>
          <h3>Aneka Herbal</h3>
          <p>Suplemen harian</p>
          <span class="category-count">(10 produk)</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚úÖ SEMUA PRODUK -->
  <section class="section products-all">
    <div class="container">
      <div class="section-header fade-in">
        <h2 class="section-title">Semua Produk Herbaprima</h2>
        <div class="category-filter">
          <!-- Filter tombol tetap ada untuk kompatibilitas -->
          <button class="filter-btn active" data-category="all">Semua</button>
          <button class="filter-btn" data-category="Madu Premium">Madu Premium</button>
          <button class="filter-btn" data-category="Minuman Sehat">Minuman Sehat</button>
          <button class="filter-btn" data-category="Minyak Herba">Minyak Herba</button>
          <button class="filter-btn" data-category="Aneka Herbal">Aneka Herbal</button>
          <button class="filter-btn" data-category="Perawatan Kulit">Perawatan Kulit</button>
          <button class="filter-btn" data-category="Perawatan Pribadi">Perawatan Pribadi</button>
        </div>
      </div>

      <div class="products-grid" id="productsGrid">
        <!-- Diisi oleh JS -->
      </div>
    </div>
  </section>

  <!-- ‚úÖ PANDUAN PEMILIHAN -->
  <section class="section guide-section">
    <div class="container">
      <h2 class="section-title fade-in">‚ùì Masih Bingung Memilih?</h2>
      <div class="guide-steps">
        <div class="guide-step stagger-item fade-in">
          <div class="step-number">1</div>
          <h3>Tentukan Kebutuhan</h3>
          <p>Imunitas? Pencernaan? Energi harian?</p>
        </div>
        <div class="guide-step stagger-item fade-in">
          <div class="step-number">2</div>
          <h3>Cocokkan dengan Produk</h3>
          <p>Klik kategori ‚Üí lihat manfaat</p>
        </div>
        <div class="guide-step stagger-item fade-in">
          <div class="step-number">3</div>
          <h3>Konsultasi Gratis</h3>
          <a href="https://wa.me/6282241900467?text=Halo%20Herbaprima%2C%20saya%20mau%20konsultasi%20pemilihan%20produk." 
             target="_blank" class="btn btn-whatsapp">
            <i class="fab fa-whatsapp"></i> Chat Sekarang
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚úÖ FOOTER -->
  <div id="footer-container"></div>

  <!-- ‚úÖ IKON KERANJANG & SCRIPTS -->
  <div id="scripts-container"></div>
  <button class="cart-icon-btn" id="cartIconBtn" aria-label="Buka keranjang">
    <i class="fas fa-shopping-cart"></i>
    <span class="cart-badge" id="cartBadge">0</span>
  </button>

  <!-- ‚úÖ LOADER SCRIPT -->
  <script>
    // Muat komponen secara dinamis
    async function loadComponents() {
      const header = await fetch('components/header.html').then(r => r.text());
      const footer = await fetch('components/footer.html').then(r => r.text());
      const scripts = await fetch('components/scripts.html').then(r => r.text());
      
      document.getElementById('header-container').innerHTML = header;
      document.getElementById('footer-container').innerHTML = footer;
      document.getElementById('scripts-container').innerHTML = scripts;
      
      // Inisialisasi JS (mobile menu, dll)
      if (typeof initHeader !== 'undefined') initHeader();
    }
    
    // Jalankan saat halaman dimuat
    document.addEventListener('DOMContentLoaded', loadComponents);
  </script>

  <!-- ‚úÖ RENDER PRODUK & KATEGORI -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Render semua produk
      renderProducts('all');

      // Render produk unggulan (3 teratas atau beri tag 'featured')
      const featuredGrid = document.querySelector('.featured-grid');
      if (featuredGrid) {
        // Ambil 3 produk pertama sebagai unggulan
        let productList = JSON.parse(localStorage.getItem('herbaprimaProducts')) || products;
        const featured = productList.slice(0, 3);
        
        featuredGrid.innerHTML = featured.map(product => {
          const priceFormatted = `Rp ${product.price.toLocaleString('id-ID')}`;
          return `
            <div class="product-card featured stagger-item slide-up">
              <span class="badge-top">‚≠ê Unggulan</span>
              <img src="${product.image}" alt="${product.name}" />
              <div class="card-body">
                <h4>${product.name}</h4>
                <div class="price">${priceFormatted}</div>
                <button class="btn btn-outline btn-add" data-id="${product.id}">
                  Pilih Produk
                </button>
              </div>
            </div>
          `;
        }).join('');

        // Event: Pilih Produk ‚Üí modal
        document.querySelectorAll('.btn-add').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const id = e.target.dataset.id;
            const product = productList.find(p => p.id === id);
            if (product) openProductModal(product);
          });
        });
      }

      // Event: Klik card kategori
      document.querySelectorAll('.category-card').forEach(card => {
        card.addEventListener('click', () => {
          const category = card.dataset.category;
          // Update filter buttons
          document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.category === category || (category === 'Semua' && btn.dataset.category === 'all'));
          });
          // Render produk
          renderProducts(category);
          // Scroll ke grid produk
          document.querySelector('.products-all').scrollIntoView({ behavior: 'smooth' });
        });
      });
    });
  </script>
</body>
</html>
